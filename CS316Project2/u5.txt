p([1, 2, 3, 4], M, [1 | [2, 3, 4]], [1 | [2 | [3, 4]]], [1 | [2 | [3 | [4]]]], [1 | [2 | [3 | [4 | []]]]]) :-
  [1 | [2, 3, 4]] = [1 | [2 | [3, 4]]],
  q([1 | [2 | [3 | [4]]]]),
  r([1 | [2 | [3 | [4 | []]]]]).
